COUNTRY_DISPLAY_TO_KEY = {
    "🇻🇳 Việt Nam (베트남)": "베트남",
    "🇨🇳 中国 (중국)": "중국",
    "🇵🇭 Philippines (필리핀)": "필리핀",
    "🇹🇭 Thailand (태국)": "태국",
    "🇰🇭 Cambodia (캄보디아)": "캄보디아",
    "🇯🇵 日本 (일본)": "일본",
    "🇲🇳 Монгол (몽골)": "몽골",
    "🇳🇵 नेपाल (네팔)": "네팔",
    "🇺🇿 Uzbekistan (우즈베키스탄)": "우즈베키스탄",
    "🌐 Others (기타)": "기타"
}

LANGUAGE_DISPLAY_TO_KEY = {
    "Tiếng Việt (베트남어)": "베트남어",
    "中文 (중국어)": "중국어",
    "English (영어)": "영어",
    "Tagalog (타갈로그어)": "타갈로그어",
    "ภาษาไทย (태국어)": "태국어",
    "ភាសាខ្មែរ (크메르어)": "크메르어",
    "日本語 (일본어)": "일본어",
    "Монгол хэл (몽골어)": "몽골어",
    "नेपाली (네팔어)": "네팔어",
    "O'zbekcha (우즈베크어)": "우즈베크어"
}

LANGUAGE_MAP = {
    "베트남": "베트남어",
    "중국": "중국어",
    "필리핀": "영어",
    "태국": "태국어",
    "캄보디아": "크메르어",
    "일본": "일본어",
    "몽골": "몽골어",
    "네팔": "네팔어",
    "우즈베키스탄": "우즈베크어",
    "기타": "영어"
}

TRANSLATIONS = {
    "ko": {
        "help_title": "무엇을 도와드릴까요?",
        "chat_input": "질문을 입력하세요...",
        "chat_spinner": "답변 생성 중...",
        "sidebar_title": "사용자 정보",
        "edit_button": "정보 수정",
        "origin_country": "출신 국가",
        "visa_status": "체류 자격",
        "residence_area": "거주 지역",
        "family_members": "가족 구성원",
        "interests": "관심 분야",
        "preferred_language": "선호 언어",
        "write_korean": "(한국어로 입력해주세요)",
        "save_button": "저장",
        "detailed_info": "상세 정보 입력",
        "write_residence": "거주 지역을 입력해주세요",
        "info_saved": "정보가 저장되었습니다!"
    },
    "en": {
        "help_title": "How can I assist you?",
        "chat_input": "Enter your question...",
        "chat_spinner": "Generating response...",
        "sidebar_title": "User Information",
        "edit_button": "Edit Information",
        "origin_country": "Country of Origin",
        "visa_status": "Visa Status",
        "residence_area": "Residence Area",
        "family_members": "Family Members",
        "interests": "Interests",
        "preferred_language": "Preferred Language",
        "write_korean": "(Please write in Korean)",
        "save_button": "Save",
        "detailed_info": "Detailed Information",
        "write_residence": "Please enter your residence area",
        "info_saved": "Information has been saved!"
    },
    "vi": {
        "help_title": "Bạn cần tôi giúp gì?",
        "chat_input": "Nhập câu hỏi của bạn...",
        "chat_spinner": "Đang tạo câu trả lời...",
        "sidebar_title": "Thông tin người dùng",
        "edit_button": "Chỉnh sửa thông tin",
        "origin_country": "Quốc gia xuất xứ",
        "visa_status": "Tình trạng visa",
        "residence_area": "Khu vực cư trú",
        "family_members": "Thành viên gia đình",
        "interests": "Lĩnh vực quan tâm",
        "preferred_language": "Ngôn ngữ ưu tiên",
        "write_korean": "(Vui lòng viết bằng tiếng Hàn)",
        "save_button": "Lưu",
        "detailed_info": "Nhập thông tin chi tiết",
        "write_residence": "Vui lòng nhập khu vực cư trú",
        "info_saved": "Thông tin đã được lưu lại!"
    },
    "zh": {
        "help_title": "我能帮您什么？",
        "chat_input": "请输入您的问题...",
        "chat_spinner": "正在生成回答...",
        "sidebar_title": "用户信息",
        "edit_button": "修改信息",
        "origin_country": "原籍国家",
        "visa_status": "签证状态",
        "residence_area": "居住地区",
        "family_members": "家庭成员",
        "interests": "关注领域",
        "preferred_language": "首选语言",
        "write_korean": "（请用韩语输入）",
        "save_button": "保存",
        "detailed_info": "填写详细信息",
        "write_residence": "请输入居住地区",
        "info_saved": "信息已保存！"
    },
    "tl": {
        "help_title": "Ano ang maitutulong ko?",
        "chat_input": "Ilagay ang iyong tanong...",
        "chat_spinner": "Gumagawa ng sagot...",
        "sidebar_title": "Impormasyon ng User",
        "edit_button": "I-edit ang impormasyon",
        "origin_country": "Bansang pinagmulan",
        "visa_status": "Katayuan ng visa",
        "residence_area": "Lugar ng paninirahan",
        "family_members": "Mga miyembro ng pamilya",
        "interests": "Mga interes",
        "preferred_language": "Ninanais na wika",
        "write_korean": "(Pakisulat sa Korean)",
        "save_button": "I-save",
        "detailed_info": "Paglalagay ng Detalyadong Impormasyon",
        "write_residence": "Ilagay ang lugar ng paninirahan",
        "info_saved": "Nai-save na ang impormasyon!"
    },
    "uz": {
        "help_title": "Sizga qanday yordam bera olaman?",
        "chat_input": "Savolingizni kiriting...",
        "chat_spinner": "Javob yaratilmoqda...",
        "sidebar_title": "Foydalanuvchi ma'lumotlari",
        "edit_button": "Ma'lumotlarni tahrirlash",
        "origin_country": "Kelib chiqish davlati",
        "visa_status": "Viza holati",
        "residence_area": "Yashash hududi",
        "family_members": "Oila a'zolari",
        "interests": "Qiziqishlar",
        "preferred_language": "Afzal til",
        "write_korean": "(Iltimos, koreys tilida yozing)",
        "save_button": "Saqlash",
        "detailed_info": "Batafsil ma'lumot kiritish",
        "write_residence": "Yashash joyingizni kiriting",
        "info_saved": "Ma'lumot saqlandi!"
    },
    "th": {
        "help_title": "ฉันสามารถช่วยอะไรคุณได้บ้าง?",
        "chat_input": "กรุณาพิมพ์คำถามของคุณ...",
        "chat_spinner": "กำลังสร้างคำตอบ...",
        "sidebar_title": "ข้อมูลผู้ใช้",
        "edit_button": "แก้ไขข้อมูล",
        "origin_country": "ประเทศต้นทาง",
        "visa_status": "สถานะวีซ่า",
        "residence_area": "พื้นที่อยู่อาศัย",
        "family_members": "สมาชิกในครอบครัว",
        "interests": "ความสนใจ",
        "preferred_language": "ภาษาที่ต้องการ",
        "write_korean": "(กรุณาเขียนเป็นภาษาเกาหลี)",
        "save_button": "บันทึก",
        "detailed_info": "กรอกข้อมูลเพิ่มเติม",
        "write_residence": "กรอกพื้นที่อยู่อาศัย",
        "info_saved": "บันทึกข้อมูลเรียบร้อยแล้ว!"
    },
    "mn": {
        "help_title": "Танд юугаар туслах вэ?",
        "chat_input": "Асуултаа оруулна уу...",
        "chat_spinner": "Хариулт боловсруулж байна...",
        "sidebar_title": "Хэрэглэгчийн мэдээлэл",
        "edit_button": "Мэдээллийг засах",
        "origin_country": "Гарал үүслийн улс",
        "visa_status": "Визний статус",
        "residence_area": "Оршин суух газар",
        "family_members": "Гэр бүлийн гишүүд",
        "interests": "Сонирхол",
        "preferred_language": "Сонгосон хэл",
        "write_korean": "(Солонгосоор бичнэ үү)",
        "save_button": "Хадгалах",
        "detailed_info": "Дэлгэрэнгүй мэдээлэл оруулах",
        "write_residence": "Оршин суугаа хаягаа оруулна уу",
        "info_saved": "Мэдээлэл амжилттай хадгалагдлаа!"
    }
} 

VALUE_TRANSLATIONS = {
    "vi": {
        "결혼이민": "Kết hôn với người Hàn Quốc",
        "국적취득": "Nhập quốc tịch",
        "방문동거": "Thăm thân cư trú",
        "기타": "Khác",
        "배우자": "Vợ / Chồng",
        "자녀": "Con cái",
        "배우자의 부모": "Bố mẹ chồng / vợ",
        "본국 가족": "Gia đình ở quê hương",
        "비자/체류": "Visa / cư trú",
        "자녀교육": "Giáo dục con cái",
        "취업/일자리": "Việc làm",
        "의료/건강": "Y tế / sức khỏe",
        "복지혜택": "Phúc lợi xã hội",
        "가정폭력": "Bạo lực gia đình",
        "문화적응": "Thích nghi văn hóa",
        "베트남": "Việt Nam",
        "중국": "Trung Quốc",
        "필리핀": "Philippines",
        "우즈베키스탄": "Uzbekistan",
        "태국": "Thái Lan",
        "몽골": "Mông Cổ",
        "한국": "Hàn Quốc",
        "기타": "Khác",
        "베트남어": "Tiếng Việt",
        "중국어": "Tiếng Trung",
        "타갈로그어": "Tiếng Tagalog",
        "우즈베크어": "Tiếng Uzbek",
        "태국어": "Tiếng Thái",
        "몽골어": "Tiếng Mông Cổ",
        "한국어": "Tiếng Hàn",
        "영어": "Tiếng Anh"
    },
    "zh": {
        "결혼이민": "婚姻移民",
        "국적취득": "取得国籍",
        "방문동거": "访问同居",
        "기타": "其他",
        "배우자": "配偶",
        "자녀": "子女",
        "배우자의 부모": "配偶的父母",
        "본국 가족": "本国家人",
        "비자/체류": "签证 / 居留",
        "자녀교육": "子女教育",
        "취업/일자리": "就业",
        "의료/건강": "医疗 / 健康",
        "복지혜택": "福利优惠",
        "가정폭력": "家庭暴力",
        "문화적응": "文化适应",
        "베트남": "越南",
        "중국": "中国",
        "필리핀": "菲律宾",
        "우즈베키스탄": "乌兹别克斯坦",
        "태국": "泰国",
        "몽골": "蒙古",
        "한국": "韩国",
        "기타": "其他",
        "베트남어": "越南语",
        "중국어": "中文",
        "타갈로그어": "塔加洛语",
        "우즈베크어": "乌兹别克语",
        "태국어": "泰语",
        "몽골어": "蒙古语",
        "한국어": "韩语",
        "영어": "英语"
    },
    "tl": {
        "결혼이민": "Pag-aasawa sa Koreano",
        "국적취득": "Pagkuha ng nasyonalidad",
        "방문동거": "Pagbisita at pamumuhay kasama",
        "기타": "Iba pa",
        "배우자": "Asawa",
        "자녀": "Mga anak",
        "배우자의 부모": "Magulang ng asawa",
        "본국 가족": "Pamilya sa sariling bansa",
        "비자/체류": "Visa / Paninirahan",
        "자녀교육": "Edukasyon ng anak",
        "취업/일자리": "Trabaho",
        "의료/건강": "Medikal / Kalusugan",
        "복지혜택": "Benepisyo sa kagalingan",
        "가정폭력": "Karahasan sa tahanan",
        "문화적응": "Pag-angkop sa kultura",
        "베트남": "Vietnam",
        "중국": "Tsina",
        "필리핀": "Pilipinas",
        "우즈베키스탄": "Uzbekistan",
        "태국": "Thailand",
        "몽골": "Mongolia",
        "한국": "Korea",
        "기타": "Iba pa",
        "베트남어": "Vietnamese",
        "중국어": "Chinese",
        "타갈로그어": "Tagalog",
        "우즈베크어": "Uzbek",
        "태국어": "Thai",
        "몽골어": "Mongolian",
        "한국어": "Korean",
        "영어": "English"
    },
    "uz": {
        "결혼이민": "Koreys fuqarosi bilan nikoh",
        "국적취득": "Fuqarolik olish",
        "방문동거": "Tanish bilan yashash",
        "기타": "Boshqalar",
        "배우자": "Turmush o‘rtoq",
        "자녀": "Farzand(lar)",
        "배우자의 부모": "Turmush o‘rtoqning ota-onasi",
        "본국 가족": "O‘z yurtidagi oila",
        "비자/체류": "Viza / Yashash",
        "자녀교육": "Farzand tarbiyasi",
        "취업/일자리": "Ish topish",
        "의료/건강": "Tibbiyot / Salomatlik",
        "복지혜택": "Ijtimoiy imtiyozlar",
        "가정폭력": "Oilaviy zo‘ravonlik",
        "문화적응": "Madaniyatga moslashish",
        "베트남": "Vyetnam",
        "중국": "Xitoy",
        "필리핀": "Filippin",
        "우즈베키스탄": "Oʻzbekiston",
        "태국": "Tailand",
        "몽골": "Mongoliya",
        "한국": "Koreya",
        "기타": "Boshqalar",
        "베트남어": "Vyetnam tili",
        "중국어": "Xitoy tili",
        "타갈로그어": "Tagalog tili",
        "우즈베크어": "Oʻzbek tili",
        "태국어": "Tailand tili",
        "몽골어": "Mongol tili",
        "한국어": "Koreys tili",
        "영어": "Ingliz tili"
    },
    "th": {
        "결혼이민": "แต่งงานกับชาวเกาหลี",
        "국적취득": "การได้รับสัญชาติ",
        "방문동거": "การมาเยี่ยมและอยู่ร่วมกัน",
        "기타": "อื่นๆ",
        "배우자": "คู่สมรส",
        "자녀": "บุตร",
        "배우자의 부모": "พ่อแม่ของคู่สมรส",
        "본국 가족": "ครอบครัวในประเทศบ้านเกิด",
        "비자/체류": "วีซ่า / การพำนัก",
        "자녀교육": "การศึกษาบุตร",
        "취업/일자리": "การจ้างงาน",
        "의료/건강": "การแพทย์ / สุขภาพ",
        "복지혜택": "สวัสดิการ",
        "가정폭력": "ความรุนแรงในครอบครัว",
        "문화적응": "การปรับตัวทางวัฒนธรรม",
        "베트남": "เวียดนาม",
        "중국": "จีน",
        "필리핀": "ฟิลิปปินส์",
        "우즈베키스탄": "อุซเบกิสถาน",
        "태국": "ประเทศไทย",
        "몽골": "มองโกเลีย",
        "한국": "เกาหลีใต้",
        "기타": "อื่นๆ",
        "베트남어": "ภาษาเวียดนาม",
        "중국어": "ภาษาจีน",
        "타갈로그어": "ภาษาตากาล็อก",
        "우즈베크어": "ภาษาอุซเบก",
        "태국어": "ภาษาไทย",
        "몽골어": "ภาษามองโกเลีย",
        "한국어": "ภาษาเกาหลี",
        "영어": "ภาษาอังกฤษ"
    },
    "mn": {
        "결혼이민": "Солонгос хүнтэй гэрлэсэн",
        "국적취득": "Иргэншил олж авах",
        "방문동거": "Айлчлан хамт амьдрах",
        "기타": "Бусад",
        "배우자": "Амраг / Нөхөр, эхнэр",
        "자녀": "Хүүхэд",
        "배우자의 부모": "Нөхөр / эхнэрийн эцэг эх",
        "본국 가족": "Эх орон дахь гэр бүл",
        "비자/체류": "Виз / Оршин суух",
        "자녀교육": "Хүүхдийн боловсрол",
        "취업/일자리": "Ажил эрхлэлт",
        "의료/건강": "Эрүүл мэнд / эмчилгээ",
        "복지혜택": "Нийгмийн халамж",
        "가정폭력": "Гэр бүлийн хүчирхийлэл",
        "문화적응": "Соёлд дасан зохицох",
        "베트남": "Вьетнам",
        "중국": "Хятад",
        "필리핀": "Филиппин",
        "우즈베키스탄": "Узбекистан",
        "태국": "Тайланд",
        "몽골": "Монгол",
        "한국": "БНСУ",
        "기타": "Бусад",
        "베트남어": "Вьетнам хэл",
        "중국어": "Хятад хэл",
        "타갈로그어": "Тагалог хэл",
        "우즈베크어": "Узбек хэл",
        "태국어": "Тай хэл",
        "몽골어": "Монгол хэл",
        "한국어": "Солонгос хэл",
        "영어": "Англи хэл"
    },
    "en": {
        "결혼이민": "Marriage to a Korean national",
        "국적취득": "Naturalization",
        "방문동거": "Visiting and cohabiting",
        "기타": "Other",
        "배우자": "Spouse",
        "자녀": "Child",
        "배우자의 부모": "Spouse’s parents",
        "본국 가족": "Family in home country",
        "비자/체류": "Visa / Residency",
        "자녀교육": "Child education",
        "취업/일자리": "Employment",
        "의료/건강": "Medical / Health",
        "복지혜택": "Welfare benefits",
        "가정폭력": "Domestic violence",
        "문화적응": "Cultural adaptation",
        "베트남": "Vietnam",
        "중국": "China",
        "필리핀": "Philippines",
        "우즈베키스탄": "Uzbekistan",
        "태국": "Thailand",
        "몽골": "Mongolia",
        "한국": "Korea",
        "기타": "Other",
        "베트남어": "Vietnamese",
        "중국어": "Chinese",
        "타갈로그어": "Tagalog",
        "우즈베크어": "Uzbek",
        "태국어": "Thai",
        "몽골어": "Mongolian",
        "한국어": "Korean",
        "영어": "English"
    }
}

LANG_CODE_MAP = {
    "한국어": "ko",
    "베트남어": "vi",
    "중국어": "zh",
    "타갈로그어": "tl",
    "우즈베크어": "uz",
    "태국어": "th",
    "몽골어": "mn",
    "영어": "en"
}

COUNTRY_FLAGS = {
    "베트남": "🇻🇳",
    "중국": "🇨🇳",
    "필리핀": "🇵🇭",
    "우즈베키스탄": "🇺🇿",
    "태국": "🇹🇭",
    "몽골": "🇲🇳",
    "한국": "🇰🇷",
    "기타": "🌐"
}

# 국가 코드 to 이모지 플래그
COUNTRY_FLAGS = {
    "베트남": "🇻🇳",
    "중국": "🇨🇳",
    "필리핀": "🇵🇭",
    "우즈베키스탄": "🇺🇿",
    "태국": "🇹🇭",
    "몽골": "🇲🇳",
    "한국": "🇰🇷",
    "기타": "🌐"
}

def translate_options(options, lang):
    vt = VALUE_TRANSLATIONS.get(lang, {})
    return [vt.get(opt, opt) for opt in options]

def get_translation(lang, key):
    return TRANSLATIONS.get(lang, TRANSLATIONS["ko"]).get(key, key)

def get_value_translation(lang, value):
    return VALUE_TRANSLATIONS.get(lang, {}).get(value, value)

def reverse_value_translation(lang, value):
    vt = VALUE_TRANSLATIONS.get(lang, {})
    reverse_map = {v: k for k, v in vt.items()}
    return reverse_map.get(value, value)